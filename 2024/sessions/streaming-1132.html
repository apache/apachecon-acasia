<!DOCTYPE HTML>

<html>
<head>
    <title>How we use Reclaimed Low-Cost Computing Resouces for Large-Scale Near-Line Model Inference - CommunityOverCode Asia 2024 - Powered by ALC-Beijing</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <meta http-equiv="Content-Security-Policy" content="default-src 'none'; script-src 'unsafe-inline' 'unsafe-eval' *; style-src 'unsafe-inline' *; img-src * data:; font-src * data:; connect-src *; frame-src *;">

    <meta name="description" content="" />
    <meta name="keywords" content="" />

    <meta property='og:title' content='How we use Reclaimed Low-Cost Computing Resouces for Large-Scale Near-Line Model Inference'/>
    <meta property='og:url' content='https://asia.communityovercode.org/2024'/>
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    <base href="/2024"/>
    
    
    <link rel="icon" type="image/png" href="images/favicon.ico">
    <link rel="stylesheet" href="/2024/css/bootstrap.min.css">
    <link rel="stylesheet" href="/2024/css/style.css"/>

    
    <link rel="stylesheet" href="/2024/scss/main.min.f327fac657d730f3f1b9f16418e56111a1b2dc2bb77a5c8ef7e2e089db2941bc.css">
    
    <link rel="stylesheet" href="/2024/scss/acasia2021.min.4d8823c67361eb6bcc127980e7d7abc34545374e41cd842aa752bfe6650f31b4.css">

    <script src="js/bootstrap.min.js"></script>
    <script src="js/jquery.min.js"></script>
    <script src="js/jquery.dropotron.min.js"></script>
    
    
    <noscript>
        
    </noscript>
    <link rel="stylesheet" href="css/search.css"/>
    
</head>

<body>


<div class="wrapper style1">

    
<div id="header">
    <div class="container">
        
        
<nav id="nav" class="navbar navbar-dark navbar-expand-lg bg-transparent">
  <div class="container py-1">
    <div class="btn-wrap d-flex align-items-center justify-content-between">
        
            <a href="index.html" class="navbar-brand">
                <img class="logo-img" src="/2024/images/cocasia2024-logo.png" height="120" width="200px" ALIGN=CENTER>
            </a>
        
         <button
            onclick="changeMenuBg()"
            class="navbar-toggler" 
            type="button"
            data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
    </div>
    <div class="collapse navbar-collapse justify-content-end" id="navbarSupportedContent">
        <ul class="navbar-nav">
            
                <li class="nav-item">
                    <a class="nav-link" href="index.html">
                        Home
                    </a>
                </li>
            
            
            
                <li class="nav-item">
                    
                    <a href="/2024/schedule.html" class="nav-link">Schedule</a>
                </li>
            
                <li class="nav-item">
                    
                    <a href="/2024/sponsor.html" class="nav-link">Sponsor</a>
                </li>
            
                <li class="nav-item">
                    
                    <a href="/2024/guide/visa_letter_request.html" class="nav-link">Guide</a>
                </li>
            
                <li class="nav-item">
                    
                    <a href="/2024/venue_travel/venue.html" class="nav-link">Venue &#43; Travel</a>
                </li>
            
                <li class="nav-item">
                    
                    <a href="/2024/conduct.html" class="nav-link">Code of Conduct</a>
                </li>
            
            
                
                    <li class="nav-item">
                        <a href="/2024/zh/sessions/streaming-1132.html" class="nav-link" >中文</a>
                    </li>
                
            
            
            
        </ul>
    </div>
  </div>
</nav>
<script>
    const isHome = "false";
    function changeMenuBg () {
        const nav = document.getElementById('nav');
        if (isHome !== 'true') {
            return;
        }
        if (nav.classList.contains('bg-custom')) {
            nav.classList.remove('bg-custom');
            nav.classList.add('bg-transparent');
        } else {
            nav.classList.add('bg-custom');
            nav.classList.remove('bg-transparent');
        }
    }

</script>

    </div>
</div>

    
    <div id="main" class="wrapper style4 page-session">

        
        <div id="content" class="container">
            <section>
                <header class="major">
                    <h3>How we use Reclaimed Low-Cost Computing Resouces for Large-Scale Near-Line Model Inference</h3>
                    <h4>Yun Tang</h4>
                    Chinese Session  2024-07-27 16:45 GMT&#43;8&nbsp;
                    
                    <a class="label" href="/2024/tracks/streaming.html">#streaming</a></li>
                </header>

                <p>Due to the increasing value of GPU resources, we have restructured Xiaohongshu&rsquo;s image search system to create a near-line/offline inference pipeline, ultimately developing a high-quality cost-saving and efficiency-improving solution that utilizes idle computing resources to handle billions of data-scale model inference tasks:</p>
<p>In the transient and easily evictable resource pool with tidal characteristics, we have set up a virtualized k8s cluster to enable the submission of Flink jobs.
Collaborating with the business team, we simplified the complex inference pipeline of the image search system, which previously consisted of over 10 microservices, into a few PyFlink jobs.
Since CPU-based inference is much slower than traditional data processing in the BI domain, the native checkpoint mechanism of Flink is no longer suitable. We combined an adaptive scheduler with customized fault-tolerance mechanisms to ensure stable and continuous operation on transient resources.
In the end, we significantly improved the efficiency and stability of the image search data pipeline while saving hundreds of thousands of core·days of fixed resources. Thanks to Flink&rsquo;s integrated streaming and batch processing features, the entire pipeline also unified the near-line and offline inference paths for business needs, achieving successful implementation in other areas such as transactions and community algorithms. In the future, we also consider integrating the inference ability with Ray to support wider usage scenarios.</p>
<h3 id="speakers">Speakers:</h3>
<p><img src="https://sessionize.com/image/4849-400o400o1-LRkj3zMXkm7teij1dkn5Bs.jpg" width="200" /><br>Yun Tang: Streaming engine Tech leader at Xiaohongshu, Yun Tang, I have over 10 years of experience in developing and researching big data systems, with a primary focus on real-time computing (from Spark Streaming to Flink). I joined Alibaba Cloud in 2017, working on Flink-related development tasks such as state management, fault tolerance, and ecosystem integration, and became a committer in the Flink community. In 2022, I joined Xiaohongshu as the leader of the real-time computing team, responsible for driving the adoption of integrated streaming and batch processing scenarios, as well as implementing near-line/offline machine learning inference solutions within the company. I am also exploring distributed computing systems like Ray.
<br><br></p>


                <div style="position:relative; padding-bottom:50%; width:90%; height:0">
                    <iframe src=""  class="iframe_video" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="position:absolute; height: 100%; width: 100%;"></iframe>
                </div>

            </section>
        </div>
    </div>

    

<div id="footer">
  <section class="container">
    <header class="major">
      <h2>Connect with us</h2>
    </header>
    <div class="d-flex align-items-center justify-content-between mx-auto mb-5" style="max-width: 512px">
      <a href="https://www.facebook.com/ApacheSoftwareFoundation/">
        <img width="64" src="/2024/images/icon-facebook-128.png">
      </a>
      <a href="https://twitter.com/ApacheCon">
        <img width="64" src="/2024/images/icon-twitter-x-128.png">
      </a>
      <a href="http://s.apache.org/apachecon-slack">
        <img width="64" src="/2024/images/icon-slack-128.png">
      </a>
    </div>
		<p>CommunityOverCode operates under the terms of the <a href="https://www.apache.org/foundation/policies/conduct.html">Apache Software Foundation Code of Conduct</a>. </p>
    <p class="byline mb-0">Copyright 2024, <a href="https://www.apache.org/">The Apache Software Foundation</a>, Licensed under the Apache License, Version 2.0. <br />Apache and the Apache feather logo are trademarks of The Apache Software Foundation.</div>
    </section>
</div>
</div>


</body>
</html>
